<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mariage Aline & Laurent - 20.06.2026</title>

    <!-- Importation des polices Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Antic+Didone&family=Great+Vibes&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'boho-dark': '#521515',
                        'boho-terra': '#9E4C2C',
                        'boho-pink': '#CF9D8D',
                        'boho-teal': '#00B7B5',
                        'boho-cream': '#F8EDDE',
                        'boho-white': '#FFFCF9',
                    },
                    fontFamily: {
                        'script': ['"Great Vibes"', 'cursive'],
                        'didone': ['"Antic Didone"', 'serif'],
                        'sans': ['"Montserrat"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F8EDDE;
            color: #521515;
        }
        .smooth-scroll {
            scroll-behavior: smooth;
        }
        .fade-in {
            animation: fadeIn 1.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .form-input:focus {
            outline: none;
            border-color: #9E4C2C;
            box-shadow: 0 0 0 2px rgba(158, 76, 44, 0.2);
        }
    </style>
</head>
<body class="font-sans font-light antialiased smooth-scroll">

    <!-- HEADER RÉDUIT & LOGO À GAUCHE -->
    <header class="w-full h-20 md:h-24 flex items-center justify-start py-2 px-6 md:px-12 fade-in">
        <div class="h-full">
            <img src="images\AL MARRON - fond transparent.png" 
                 alt="Logo Mariage" 
                 class="h-full w-auto object-contain">
        </div>
    </header>

    <!-- SECTION HERO -->
    <div class="relative w-full h-[500px] md:h-[700px] overflow-hidden flex items-start justify-center pt-0 md:pt-20 fade-in">

    <div class="absolute inset-0 z-0">
        <img src="images\6589.jpg" 
             alt="Mas de la Fouque Fond" 
             class="w-full h-full object-cover object-center opacity-40">
    </div>

    <div class="relative z-10 w-64 h-64 md:w-96 md:h-96 rounded-sm overflow-hidden">
        <img src="images\NEW BROWN.png" 
             alt="Visuel Mariage Central" 
             class="w-full h-full object-cover object-top"> 
             </div>
</div>

    <!-- PARTIE 1: L'INVITATION -->
    <section class="max-w-4xl mx-auto px-6 py-16 space-y-12">
        <div class="bg-boho-white p-8 md:p-12 shadow-lg rounded-sm text-center border-t-4 border-boho-terra fade-in space-y-6">
            <p class="font-sans text-lg md:text-xl text-boho-dark leading-relaxed">
                Après des années d’amour et de vie commune,<br>
                nous avons décidé de nous dire oui !<br>
                Nous serions heureux de vous compter parmi nous
            </p>
            <p class="font-sans text-lg md:text-xl text-boho-dark uppercase tracking-wide font-medium">
                Le samedi 20 juin 2026
            </p>
            <p class="font-sans text-lg md:text-xl text-boho-dark leading-relaxed">
                au Mas de la Fouque<br>
                pour partager ensemble ce moment de bonheur,<br>
                dans un cadre bohème et idyllique...
            </p>
        </div>

        <div class="bg-boho-pink/30 p-8 rounded-sm text-center border border-boho-pink fade-in">
            <h3 class="font-didone text-xl uppercase mb-4 text-boho-dark">Adresse</h3>
            <p class="mb-6 font-medium">
                Mas de la Fouque<br>
                D38 Route du Petit-Rhône<br>
                13460 Saintes-Maries-de-la-mer
            </p>
            <hr class="w-16 mx-auto border-boho-dark/20 mb-6">
            <p class="text-sm md:text-base mb-4 leading-relaxed">
                L'arrivée est possible au Mas dès 14h si vous souhaitez profiter du lieu 
                et vous détendre au bord de la piscine avant la cérémonie.
            </p>
            <p class="text-sm italic mt-4 text-boho-terra font-medium">
                Si vous avez la moindre question, n'hésitez pas à contacter les (futurs) mariés.
            </p>
        </div>
    </section>

    <!-- SÉPARATEUR VISUEL 1 -->
    <div class="w-full h-64 md:h-80 overflow-hidden">
        <img src="images\mas-fouque-camargue-weekend-amoureux.jpg"
             alt="Décoration Bohème" 
             class="w-full h-full object-cover">
    </div>

    <!-- PARTIE 2: LE PROGRAMME -->
    <section class="bg-boho-white py-16 px-6 fade-in">
        <div class="max-w-3xl mx-auto text-center">
            <div class="mb-4 flex justify-center">
                <img src="images\texte programme.png" 
                     alt="Le Programme" 
                     class="h-24 md:h-32 object-contain">
            </div>

            <div class="max-w-2xl mx-auto space-y-6">
                <div>
                    <p class="font-sans text-lg md:text-xl text-boho-dark uppercase tracking-wide font-medium">
                        Samedi 20 juin 2026
                    </p>
                    <p class="font-sans text-lg md:text-xl text-boho-dark mt-2 leading-relaxed">
                        À partir de 14h - Accueil<br>
                        17h - Cérémonie laïque<br>
                        18h30 - Vin d'honneur<br>
                        21h - Dîner et soirée
                    </p>
                </div>

                <div class="pt-2">
                    <p class="font-sans text-lg md:text-xl text-boho-dark uppercase tracking-wide font-medium">
                        Dimanche 21 juin 2026
                    </p>
                    <p class="font-sans text-lg md:text-xl text-boho-dark mt-2 leading-relaxed">
                        Piscine<br>
                        Brunch
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- PARTIE 3: RSVP -->
    <section id="rsvp" class="w-full py-20 px-6 bg-boho-cream">
        <div class="max-w-2xl mx-auto">
            <div class="text-center mb-10">
                <div class="flex justify-center mb-6">
                    <img src="images\texte réponse.png" 
                         alt="Réponse" 
                         class="h-20 md:h-28 object-contain">
                </div>
                <p class="font-bold uppercase tracking-widest text-sm text-boho-terra mb-2">Votre réponse (positive !) est attendue</p>
                <p class="font-bold uppercase tracking-widest text-sm text-boho-dark">avant le 15 avril 2026</p>
            </div>

            <div class="bg-white p-8 md:p-10 rounded-sm shadow-xl border-t-8 border-boho-terra">
                <!--
                  Note: visuel inchangé.
                  Modifs fonctionnelles:
                  - ajout d'un id sur le form
                  - ajout des attributs name sur les champs pour construire un payload fiable
                  - suppression du onsubmit inline remplacé par un handler JS (même comportement visuel: alert)
                -->
                <form id="rsvp-form" class="space-y-8">
                    <div>
                        <label class="block text-sm uppercase tracking-wide text-gray-700 mb-2 font-bold">Vos Prénoms & Noms</label>
                        <input
                            type="text"
                            name="full_name"
                            class="form-input w-full bg-gray-50 border border-gray-300 p-3 rounded-none focus:bg-white transition-colors"
                            placeholder="Ex: Jean Dupont et Marie Curie"
                            required>
                    </div>

                    <div class="border-b border-gray-100 pb-6">
                        <p class="block text-lg font-didone text-boho-dark mb-4">Serez-vous des nôtres à la cérémonie et à la soirée ?</p>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3 cursor-pointer group">
                                <input type="radio" name="presence" value="oui" class="form-radio h-5 w-5 text-boho-terra focus:ring-boho-terra" checked>
                                <span class="group-hover:text-boho-terra transition-colors">Evidemment, pas question de louper ça !</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer group">
                                <input type="radio" name="presence" value="non" class="form-radio h-5 w-5 text-gray-400 focus:ring-gray-400">
                                <span class="group-hover:text-gray-600 transition-colors">Pas dispo. Peut-être une prochaine fois.</span>
                            </label>
                        </div>
                    </div>

                    <div class="border-b border-gray-100 pb-6">
                        <p class="block text-lg font-didone text-boho-dark mb-4">Un brunch est prévu le dimanche 21 juin, est-ce que vous serez des nôtres ?</p>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3 cursor-pointer group">
                                <input type="radio" name="brunch" value="oui" class="form-radio h-5 w-5 text-boho-terra focus:ring-boho-terra">
                                <span class="group-hover:text-boho-terra transition-colors">Comptez sur moi. Et je prends mon maillot de bain.</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer group">
                                <input type="radio" name="brunch" value="non" class="form-radio h-5 w-5 text-gray-400 focus:ring-gray-400">
                                <span class="group-hover:text-gray-600 transition-colors">Pas possible. J'ai Aqua-Poney à midi.</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm uppercase tracking-wide text-gray-700 mb-2 font-bold">Message ou régime particulier ?</label>
                        <textarea
                            name="message"
                            class="form-input w-full bg-gray-50 border border-gray-300 p-3 rounded-none h-32 focus:bg-white transition-colors"
                            placeholder="Votre message..."></textarea>
                    </div>

                    <button type="submit" class="w-full bg-boho-dark text-white font-didone uppercase tracking-widest py-4 hover:bg-boho-terra transition duration-300 text-lg shadow-lg">
                        Confirmer
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- SÉPARATEUR VISUEL 2 (AVANT LE FOOTER) -->
    <div class="w-full h-64 md:h-80 overflow-hidden">
        <!-- Remplacez le chemin ci-dessous par l'image de votre choix -->
        <img src="images\24034206_2024-08-13T13134632100024509279.jpg"
             alt="Ambiance Mariage" 
             class="w-full h-full object-cover">
    </div>

    <!-- FOOTER -->
    <footer class="bg-boho-dark text-boho-cream w-full flex flex-col items-center justify-center py-12 px-4 space-y-8">
        <div class="text-center font-sans">
            <h4 class="uppercase tracking-widest text-boho-pink mb-4 font-bold">Informations pratiques :</h4>
            <div class="space-y-2 text-sm md:text-base leading-relaxed opacity-90">
                <p>D38 Route du Petit-Rhône</p> 
                <p>13460 Saintes-Maries-de-la-mer</p>
                <p><a href="https://masdelafouque.com" target="_blank" class="underline hover:text-boho-terra transition-colors">masdelafouque.com</a></p>
                <p>Parking présent sur place</p>
            </div>
        </div>

        <div class="w-full max-w-lg h-32 md:h-48">
            <img src="images\LOGO3.png"
                 alt="Footer Mariage" 
                 class="h-full w-full object-contain">
        </div>
    </footer>

    <script>
        // ==============================
        // Connexion RSVP -> n8n (Webhook)
        // ==============================
        // 1) Remplacez N8N_WEBHOOK_URL par l'URL "Production" de votre Webhook n8n.
        // 2) (Recommandé) Ajoutez un token côté n8n et vérifiez-le dans le workflow.
        //    Ici, on l'envoie en query string pour rester simple.
        const N8N_WEBHOOK_URL = "https://esmieunathan.app.n8n.cloud/webhook/rsvp-V2";

        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById("rsvp-form");
            if (!form) return;

            form.addEventListener("submit", async (event) => {
                event.preventDefault();

                // Construction du payload à partir des attributs name
                const fd = new FormData(form);
                const payload = Object.fromEntries(fd.entries());

                // Ajout d'un timestamp côté client (utile pour l'archivage)
                payload.submitted_at = new Date().toISOString();

                try {
                    // Envoi en application/x-www-form-urlencoded pour éviter la plupart des soucis CORS (préflight)
                    const body = new URLSearchParams(payload);

                    const res = await fetch(N8N_WEBHOOK_URL, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8",
                        },
                        body,
                    });

                    if (!res.ok) {
                        // On garde un feedback utilisateur simple, sans changer le design
                        alert("Erreur lors de l’envoi. Réessayez.");
                        return;
                    }

                    // Si n8n renvoie du JSON (ex: { ok: true, message: "..." })
                    const data = await res.json().catch(() => ({}));

                    // Comportement identique à l'original (alert)
                    alert(data.message || "Merci pour votre réponse !");

                    // Reset du formulaire comme attendu
                    form.reset();

                    // Remettre les choix par défaut (présence=oui) comme dans la version initiale
                    const presenceOui = form.querySelector('input[name="presence"][value="oui"]');
                    if (presenceOui) presenceOui.checked = true;

                } catch (e) {
                    alert("Erreur réseau lors de l’envoi. Réessayez.");
                }
            });
        });
    </script>

</body>
</html>
